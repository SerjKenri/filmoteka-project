{"mappings":"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","sources":["src/js/popular.js","src/js/spinner.js","src/js/film-search.js","src/js/pagination.js","src/js/open-model.js"],"sourcesContent":["import axios from 'axios';\n\nimport { renderPagination, IN_MAIN_POPULAR } from './pagination.js';\nimport { KEY, MEDIA_TYPE, API } from './constants';\n\n// імпорт файлу сховища та запис в змінну ключа\nimport * as storageLocal from './local-storage.js';\nconst FILM_CURRENT_PAGE = 'film-current-page';\n//\nconst TIME_WINDOW = 'week';\nconst TRENDING = 'trending';\nconst GENRES = 'genre/movie/list';\nconst IMG_PATH = 'https://image.tmdb.org/t/p/';\nconst SMALL_SIZE = 'w500';\n\nexport const NO_IMAGE =\n  'https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg';\n\nexport let genresList;\n\ngetOriginGenres().then(response => {\n  genresList = Array.from(response.genres);\n});\n\nexport const galleryRef = document.querySelector('.js-gallery');\n\nconst warning = document.querySelector('.header__warning');\n\nwindow.addEventListener('load', () => {\n  galleryRef.innerHTML = '';\n\n  getPopulars(1)\n    .then(({ page, results, total_pages: pages }) => {\n      renderFilmCards(results);\n      renderPagination(page, pages, IN_MAIN_POPULAR);\n    })\n    .catch(() => {\n      warning.insertAdjacentHTML(\n        'beforeend',\n        `<div class=\"header__warning-message\">Service is temporarily unavailable.</div>`\n      );\n\n      setTimeout(() => {\n        warning.innerHTML = '';\n      }, 4000);\n    });\n});\n\nexport async function getPopulars(page) {\n  try {\n    const searchParams = new URLSearchParams({\n      api_key: KEY,\n      page: page,\n      include_adult: false,\n    });\n\n    const response = await axios.get(\n      `${API}${TRENDING}/${MEDIA_TYPE}/${TIME_WINDOW}?${searchParams}`\n    );\n\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n\n    // console.log('респонс Барчука', response.data);\n\n    return response.data;\n  } catch (error) {\n    // console.log('Підставити картинку, сервер терміново недоступний');\n  }\n}\n\nexport function renderFilmCards(data) {\n  let markup = '';\n  data.forEach(({ id, poster_path, genre_ids, title, release_date }) => {\n    let genresStr = getGenres(genre_ids);\n    let year = !release_date ? '' : release_date.substring(0, 4);\n    if (genresStr && year) genresStr += ' | ';\n    if (!title) title = 'no information';\n\n    let smallImg = !!poster_path\n      ? IMG_PATH + SMALL_SIZE + poster_path\n      : NO_IMAGE;\n\n    markup += `\n      <li class=\"film-card\">\n         \t<a href=\"#\" class=\"film-card__link\">\n            <img\n              class=\"film-card__film-img\"\n              src=\"${smallImg}\"\n              alt=\"${title}\"\n              id=\"${id}\"\n            />\n            <h3 class=\"film-card__film-name\">${title}</h3>\n            <p class=\"film-card__genre\">${genresStr}${year}</p>\n          </a>\n        </li>\n\t\t\t\t\t\t\t`;\n  });\n\n  galleryRef.innerHTML = markup;\n\n  // запис в локальне сховище\n  storageLocal.save(FILM_CURRENT_PAGE, [...data]);\n  //\n}\n\nasync function getOriginGenres() {\n  try {\n    const searchParams = new URLSearchParams({\n      api_key: KEY,\n    });\n\n    const response = await axios.get(`${API}${GENRES}?${searchParams}`);\n\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.log('Підставити картинку, сервер терміново недоступний');\n  }\n}\n\nexport function getGenres(genreSet) {\n  let genreStr = '';\n\n  if (!genreSet) return '';\n  genreSet.forEach(id => {\n    for (const genre of genresList) {\n      if (genre.id === id) genreStr += genre.name + ', ';\n    }\n  });\n\n  return !genreStr ? '' : genreStr.substring(0, genreStr.length - 2);\n}\n","export default function spinnerToggle() { \n  document.querySelector('.spinner').classList.toggle(\"is-hidden\");\n}\n\n// потрібно викликати функцію spinnerToggle(), для цього у js файлі до якого функція викликається потрібно зробити імпорт:     import spinnerToggle from './spinner'(адреса може бути інша);\n// Функція просто забирає у спінера display:none, тому коли сторінка завантажиться потрібно знову викликати функцію.\n","import spinnerToggle from './spinner';\n\nconst refs = {\n  form: document.querySelector('.header__form'),\n  input: document.querySelector('.header__input'),\n  formButton: document.querySelector('.btn'),\n  gallery: document.querySelector('.js-gallery'),\n  warning: document.querySelector('.header__warning'),\n};\nimport axios from 'axios';\nimport { getPopulars, renderFilmCards } from './popular.js';\nimport { KEY } from './constants';\nimport {\n  renderPagination,\n  IN_MAIN_POPULAR,\n  IN_MAIN_SEARCH,\n} from './pagination.js';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport class searchMovieApi {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  async searchMovieFetch(page) {\n    const searchMovieParams = new URLSearchParams({\n      api_key: KEY,\n      language: 'en-US',\n      query: `${this.searchQuery}`,\n      page: page,\n      include_adult: false,\n    });\n\n    try {\n      const response = await axios.get(\n        `${BASE_URL}/search/movie?${searchMovieParams}`\n      );\n\n      if (response.status !== 200) {\n        throw new Error(response.status);\n      }\n\n      return response.data;\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n\nexport const movieApi = new searchMovieApi();\n\nrefs.input.addEventListener('input', onInputClear);\nfunction onInputClear(evt) {\n  const inputValue = refs.input.value;\n\n  if (inputValue) {\n    refs.inputBtnClear.style.display = 'block';\n  } else {\n    refs.inputBtnClear.style.display = 'none';\n  }\n}\n\nfunction emptyQueryOrNoResults() {\n  refs.warning.insertAdjacentHTML(\n    'beforeend',\n    `<div class=\"header__warning-message\">Search result not successful. Enter the correct movie name.</div>`\n  );\n  setTimeout(() => {\n    refs.warning.innerHTML = '';\n  }, 4000);\n\n  galleryRef.innerHTML = '';\n\n  getPopulars(1).then(({ page, results, total_pages: pages }) => {\n    renderFilmCards(results);\n    renderPagination(page, pages, IN_MAIN_POPULAR);\n  });\n}\n\nrefs.input.addEventListener('input', onInputClear);\nrefs.form.addEventListener('submit', onSearchClick);\n\nfunction clearSearch() {\n  refs.gallery.innerHTML = '';\n}\n\nfunction onSearchClick(evt) {\n  spinnerToggle();\n  evt.preventDefault();\n  movieApi.query = evt.currentTarget.elements.searchQuery.value\n    .trim()\n    .toLowerCase();\n  if (!movieApi.query) {\n    emptyQueryOrNoResults();\n    return;\n  }\n\n  movieApi.resetPage();\n\n  movieApi.searchMovieFetch(1).then(data => {\n    if (!data) return;\n\n    const { page, total_pages, results } = data;\n    if (!total_pages) {\n      spinnerToggle();\n      emptyQueryOrNoResults();\n      return;\n    }\n\n    clearSearch();\n    renderFilmCards(results);\n    renderPagination(page, total_pages, IN_MAIN_SEARCH);\n    spinnerToggle();\n  });\n}\n","import { renderFilmCards, getPopulars } from './popular.js';\nimport spinnerToggle from './spinner';\nimport { movieApi } from './film-search.js';\n\nspinnerToggle();\nwindow.addEventListener('load', spinnerToggle);\n\nconst pagMainRef = document.querySelector('.js-pagination');\n\nlet currentNow = 1;\nlet currentRef = pagMainRef;\nlet currentPage = 1;\n\nexport const IN_MAIN_POPULAR = 1;\nexport const IN_MAIN_SEARCH = 2;\nexport const IN_LIBRARY = 0;\n\nconst LEFT_ARROW = '&#8592;';\nconst RIGHT_ARROW = '&#8594;';\n\nexport function renderPagination(page, pages, now) {\n  let prevPage = page - 1;\n  let twoPrevPage = page - 2;\n  let nextPage = page + 1;\n  let twoNextPage = page + 2;\n  let markup = '';\n\n  currentRef = now ? pagMainRef : pagLibRef;\n  currentNow = now;\n\n  if (!page || page > pages) return;\n\n  if (page > 1)\n    markup += `<li class=\"js-pagination__arrow-left\">${LEFT_ARROW}</li>`;\n\n  if (page > 1)\n    markup += `<li class=\"js-pagination__button js-pagination__button-end\">1</li>`;\n\n  if (page > 4) markup += `<li class=\"js-pagination__points\">...</li>`;\n\n  if (page > 3)\n    markup += `<li class=\"js-pagination__button\">${twoPrevPage}</li>`;\n\n  if (page > 2) markup += `<li class=\"js-pagination__button\">${prevPage}</li>`;\n\n  markup += `<li class=\"js-pagination__button js-pagination__button-current\">${page}</li>`;\n\n  if (page + 1 < pages)\n    markup += `<li class=\"js-pagination__button\">${nextPage}</li>`;\n\n  if (page + 2 < pages)\n    markup += `<li class=\"js-pagination__button\">${twoNextPage}</li>`;\n\n  if (page + 4 < pages) markup += `<li class=\"js-pagination__points\">...</li>`;\n\n  if (page < pages)\n    markup += `<li class=\"js-pagination__button js-pagination__button-end\">${pages}</li>`;\n\n  if (page < pages)\n    markup += `<li class=\"js-pagination__arrow-right\">${RIGHT_ARROW}</li>`;\n\n  // pagLibRef\n  // Here need a ref of Library pagRef\n  currentRef.innerHTML = markup;\n}\n\ncurrentRef.addEventListener('click', ({ target }) => {\n  if (target.textContent === '...') return;\n\n  if (target.classList.contains('js-pagination__arrow-left')) currentPage -= 1;\n\n  if (target.classList.contains('js-pagination__arrow-right')) currentPage += 1;\n\n  if (target.classList.contains('js-pagination__button'))\n    currentPage = Number(target.textContent);\n\n  if (!currentNow) {\n    // console.log('Call function from Library');\n    // renderQueuedFilmCards(page);\n  } else {\n    if (currentNow === 1) {\n      spinnerToggle();\n      getPopulars(currentPage).then(({ page, results, total_pages: pages }) => {\n        renderFilmCards(results);\n\n        renderPagination(page, pages, currentNow);\n        spinnerToggle();\n      });\n    } else {\n      movieApi\n        .searchMovieFetch(currentPage)\n        .then(({ page, results, total_pages: pages }) => {\n          renderFilmCards(results);\n          renderPagination(page, pages, currentNow);\n        });\n    }\n  }\n});\n","import * as storageLocal from './local-storage.js';\nimport ModalFilm from './modal-film';\nimport { handleBackButtonClick, trailerButtonRef,  handleTrailerButtonClick} from './trailer';\n\nimport { sendWatchedToStorage, sendQueueToStorage} from \"./local-storage-set\";\n\nconst refs = {\n  gallery: document.querySelector('.js-gallery'),\n  closeBtn: document.querySelector('[data-modal-close]'),\n  btnWatched: document.querySelector(\".btn_watched\"),\n  btnQueue: document.querySelector(\".btn_queue\"),\n};\n\nconst modalFilm = new ModalFilm();\n\nrefs.gallery.addEventListener('click', onOpenModal);\nrefs.closeBtn.addEventListener('click', onCloseModal);\nwindow.addEventListener('keydown', onCloseModalEsc);  \n\nfunction onOverlayClose(event) {\n  if (!event.target.closest(\".modal\") && event.target.closest('.backdrop')) {\n      onCloseModal();\n  }\n}\ndocument.addEventListener(\"click\", onOverlayClose)\n\nfunction onOpenModal(e) {\n  e.preventDefault();\n  trailerButtonRef.addEventListener('click', handleTrailerButtonClick);\n\n  if (e.target.nodeName !== 'IMG') return;\n\n  const dataCurentFilm = getFilmData(e.target.id);\n\n  modalFilm.modifyDataFilm(dataCurentFilm);\n  modalFilm.open();\n\n///// for local-storage and button /////////\n  refs.btnWatched.addEventListener(\"click\", onWatchedBtnClick)\n  refs.btnQueue.addEventListener(\"click\", onQueueBtnClick)\n\n  localStorage.setItem(\"CurrentFilm\", JSON.stringify(dataCurentFilm))\n  \n  checkWatchedStorage(dataCurentFilm)\n  if (refs.btnWatched.classList.contains(\"watched_remove\")) {\n    refs.btnWatched.textContent = 'REMOVE FROM WATCHED'} \n  else if(refs.btnWatched.classList.contains(\"watched_send\")){\n    refs.btnWatched.textContent = 'ADD TO WATCHED'\n  }\n\n  checkQueueStorage(dataCurentFilm)\n  if (refs.btnQueue.classList.contains(\"queue_remove\")) {\n      refs.btnQueue.textContent = 'REMOVE FROM QUEUE'}\n  else if (refs.btnWatched.classList.contains(\"queue_send\")){\n    refs.btnQueue.textContent = 'ADD TO QUEUE'\n  }\n    \n  function onWatchedBtnClick() {\n    if (refs.btnWatched.classList.contains(\"watched_send\")) {\n      refs.btnWatched.textContent = 'REMOVE FROM WATCHED'\n      refs.btnWatched.classList.replace(\"watched_send\", \"watched_remove\")\n\n      sendWatchedToStorage()\n\n    } else if (refs.btnWatched.classList.contains(\"watched_remove\")) {\n      refs.btnWatched.textContent = 'ADD TO WATCHED'  \n      refs.btnWatched.classList.replace(\"watched_remove\", \"watched_send\")\n\n      removeWatchedFilm(dataCurentFilm)\n    }\n      \n    refs.btnWatched.textContent = 'ADD TO WATCHED' \n    refs.btnWatched.classList.replace(\"watched_remove\", \"watched_send\")  \n  }\n \n  function removeWatchedFilm(currentFilm) {\n      try {\n        const getWatchedFromStorage = localStorage.getItem(\"WatchedMovies\")\n        const getWatchedArray = JSON.parse(getWatchedFromStorage)\n\n        const watchedFilmIndex = getWatchedArray.findIndex(value => value.id === currentFilm.id);\n        getWatchedArray.splice(watchedFilmIndex, 1)\n        localStorage.setItem(\"WatchedMovies\", JSON.stringify(getWatchedArray))\n      } catch (error) {\n      // console.error('Get state error: ', error.message);\n    }\n}\n  \n  function onQueueBtnClick() {\n    if (refs.btnQueue.classList.contains(\"queue_send\")) {\n      refs.btnQueue.textContent = 'REMOVE FROM QUEUE'\n      refs.btnQueue.classList.replace(\"queue_send\", \"queue_remove\")\n\n      sendQueueToStorage()\n    } else if (refs.btnQueue.classList.contains(\"queue_remove\")) {\n      refs.btnQueue.textContent = 'ADD TO QUEUE'  \n      refs.btnQueue.classList.replace(\"queue_remove\", \"queue_send\")\n\n      removeQueueFilm(dataCurentFilm)\n    }\n\n    refs.btnQueue.textContent = 'ADD TO QUEUE'  \n    refs.btnQueue.classList.replace(\"queue_remove\", \"queue_send\")\n  }\n\n  function removeQueueFilm(currentFilm) {\n      try {\n        const getQueueFromStorage = localStorage.getItem(\"QueueMovies\")\n        const getQueueArray = JSON.parse(getQueueFromStorage)\n\n        const queueFilmIndex = getQueueArray.findIndex(value => value.id === currentFilm.id);\n        getQueueArray.splice(queueFilmIndex, 1)\n        localStorage.setItem(\"QueueMovies\", JSON.stringify(getQueueArray))\n\n    } catch (error) {\n      // console.error('Get state error: ', error.message);\n    }\n  }\n///////////////////end of local-storage ///////////\n\n  refs.closeBtn.addEventListener('click', onCloseModal);\n  window.addEventListener('keydown', onCloseModalEsc);\n}\n\nfunction onCloseModal() {\n  const iframeContainer = document.querySelector('.iframe-container');\n  const trailerContainer = document.querySelector('.film__info-wrapper');\n  handleBackButtonClick(iframeContainer, trailerContainer);\n  modalFilm.close();\n  refs.closeBtn.removeEventListener('click', onCloseModal);\n  trailerButtonRef.removeEventListener('click', handleTrailerButtonClick);\n  window.removeEventListener('keydown', onCloseModalEsc);\n\n\n  //////////Примусове перезавантаження сторінки /////////////////////////////////\n  // window.location.reload()\n}\n\nfunction onCloseModalEsc(e) {\n  if (e.code === 'Escape') {\n    modalFilm.close();\n\n    refs.closeBtn.removeEventListener('click', onCloseModal);\n    window.removeEventListener('keydown', onCloseModalEsc);\n  }\n}\n\nfunction getFilmData(filmId) {\n  const filmList = storageLocal.load('film-current-page');\n  return filmList.find(film => film.id === Number(filmId));\n}\n\n////////////// checks for button /////////////////\n\nfunction checkWatchedStorage(currentFilm) {\n  try {\n    const getWatchedFromStorage = localStorage.getItem(\"WatchedMovies\")\n    const getWatchedArray = JSON.parse(getWatchedFromStorage)\n    const checkWatchedStorage = getWatchedArray.find(option => option.id === currentFilm.id);\n        if (checkWatchedStorage) {\n          refs.btnWatched.classList.replace(\"watched_send\", \"watched_remove\")\n          refs.btnWatched.textContent = 'REMOVE FROM WATCHED'\n        } else {\n          refs.btnWatched.classList.replace(\"watched_remove\", \"watched_send\")\n          refs.btnWatched.textContent = 'ADD TO WATCHED'\n        }\n    } catch (error) {\n      // console.error('Get state error: ', error.message);\n      refs.btnWatched.classList.replace(\"watched_remove\", \"watched_send\")\n    }\n}\n\nfunction checkQueueStorage(currentFilm) {\n  try {\n    const getQueueFromStorage = localStorage.getItem(\"QueueMovies\")\n    const getQueueArray = JSON.parse(getQueueFromStorage)\n    const checkQueueStorage = getQueueArray.find(option => option.id === currentFilm.id);\n        if (checkQueueStorage) {\n          refs.btnQueue.classList.replace(\"queue_send\", \"queue_remove\")\n          refs.btnQueue.textContent = 'REMOVE FROM QUEUE'\n        } else {\n          refs.btnQueue.classList.replace(\"queue_remove\", \"queue_send\")\n          refs.btnQueue.textContent = 'ADD TO QUEUE'\n        }\n    } catch (error) {\n      // console.error('Get state error: ', error.message);\n      refs.btnQueue.classList.replace(\"queue_remove\", \"queue_send\")\n    }\n}"],"names":["$94a21fe277797eb7$export$65f5202b5c3d7552","$bpxeT","parcelRequire","$94a21fe277797eb7$var$TIME_WINDOW","$94a21fe277797eb7$var$TRENDING","$94a21fe277797eb7$var$GENRES","$94a21fe277797eb7$var$_getOriginGenres","apply","this","arguments","$94a21fe277797eb7$var$getOriginGenres","then","response","Array","from","genres","$94a21fe277797eb7$export$7ccb58989d57b8c2","document","querySelector","$94a21fe277797eb7$var$warning","$94a21fe277797eb7$export$41925180ea5ac7b4","page","$94a21fe277797eb7$var$_getPopulars","$parcel$interopDefault","$2TvXO","mark","_callee","searchParams","URLSearchParams","api_key","$4s6iC","KEY","include_adult","$dIxxU","default","get","concat","API","MEDIA_TYPE","_ctx","sent","status","Error","data","$94a21fe277797eb7$export$e6243425577ce802","markup","forEach","param","genreSet","genreStr","id","poster_path","genre_ids","title","release_date","genresStr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","genre","value","name","err","return","substring","length","year","$94a21fe277797eb7$var$IMG_PATH","innerHTML","$4LMMA","save","$8nrFW","console","log","$dd8ebecfaae47a78$export$2e2bcd8739ae039","classList","toggle","window","addEventListener","results","pages","total_pages","$dfaf77c789ce7a24$export$825408fbca4f2040","$dfaf77c789ce7a24$export$48363212074cf40d","catch","insertAdjacentHTML","setTimeout","$d0bba44db8bbbc68$var$refs","form","input","formButton","gallery","warning","$d0bba44db8bbbc68$export$b4a14c65f27aca","searchMovieApi","searchQuery","key","searchMovieParams","language","query","_this","t0","message","newQuery","$d0bba44db8bbbc68$var$onInputClear","evt","inputValue","inputBtnClear","style","display","$d0bba44db8bbbc68$var$emptyQueryOrNoResults","galleryRef","preventDefault","currentTarget","elements","trim","toLowerCase","resetPage","searchMovieFetch","$dfaf77c789ce7a24$export$f946d1a34dbd3bc6","$dfaf77c789ce7a24$var$pagMainRef","$dfaf77c789ce7a24$var$currentNow","$dfaf77c789ce7a24$var$currentRef","$dfaf77c789ce7a24$var$currentPage","now","prevPage","twoPrevPage","nextPage","twoNextPage","pagLibRef","param1","target","textContent","contains","Number","$fb09461e5f4fdf78$var$refs","closeBtn","btnWatched","btnQueue","$fb09461e5f4fdf78$var$modalFilm","$73ES2","$fb09461e5f4fdf78$var$onCloseModal","iframeContainer","trailerContainer","$cDXQO","handleBackButtonClick","close","removeEventListener","trailerButtonRef","handleTrailerButtonClick","$fb09461e5f4fdf78$var$onCloseModalEsc","e","code","nodeName","dataCurentFilm","filmId","load","find","film","modifyDataFilm","open","replace","$iDjs5","sendWatchedToStorage","currentFilm","getWatchedFromStorage","localStorage","getItem","getWatchedArray","JSON","parse","watchedFilmIndex","findIndex","splice","setItem","stringify","error","removeWatchedFilm","sendQueueToStorage","getQueueFromStorage","getQueueArray","queueFilmIndex","removeQueueFilm","option","$fb09461e5f4fdf78$var$checkWatchedStorage","$fb09461e5f4fdf78$var$checkQueueStorage","event","closest"],"version":3,"file":"index.ff970b5b.js.map"}